import{d as R,u as g,a as $,D as L,l as b,m as I,o as a,c as o,e as s,s as c,F as m,f as k,t as d,g as x,p as S,j as T,C as y,b as A,A as U}from"./index.ea9520da.js";import{l as E}from"./getDiscoverData.e2bd083f.js";import{C as N}from"./CommonTabBar.adce04ae.js";import{f as w}from"./getDetail.45dbff1a.js";import{g as V}from"./play.d3e5bd87.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import"./request.985c1484.js";const O=i=>(S("data-v-3b6b48fc"),i=i(),T(),i),P={class:"oRankLayout"},j=["src"],M={class:"topFive"},q={class:"topFiveList"},z=["onDblclick"],G={class:"rank"},H=O(()=>s("div",{class:"hot"}," - ",-1)),J={class:"name"},K={class:"artists"},Q={key:0},W=["title"],X={key:0},Y=["title"],Z=R({props:["rankCover","rankId","rankType"],setup(i){const h=i,f=g(),r=$(),{rankId:n}=L(h);let u=b([]);I(()=>{w(n==null?void 0:n.value).then(e=>{u.value=e.songs.slice(0,5)})});const _=e=>{f.push("/detail/songlist/"+e)},p=e=>{V(e.id).then(l=>{let t=l.data[0].url;r.commit("setCurrentUrl",t),r.commit("pushRecent",{id:e.id,title:e.name,artist:e.ar,type:"\u6B4C\u66F2",time:+new Date,url:t}),r.commit("pushCurrentPlaylist",{id:e.id,title:e.name,artist:e.ar,from:"\u699C\u5355",duration:e.dt,url:t}),r.commit("setCurrentSongId",e.id)})};return(e,l)=>(a(),o("div",P,[s("div",{class:"oRankCover",onClick:l[0]||(l[0]=t=>_(c(n)))},[s("img",{src:i.rankCover,alt:"\u5B98\u65B9\u699C\u5355\u5C01\u9762"},null,8,j)]),s("div",M,[s("ul",q,[(a(!0),o(m,null,k(c(u),(t,C)=>(a(),o("li",{class:"topFiveSong",key:t.id,onDblclick:v=>p(t)},[s("div",G,d(C+1),1),H,s("div",J,d(t.name),1),s("div",K,[t.ar.length>1?(a(),o("div",Q,[(a(!0),o(m,null,k(t.ar,(v,F)=>(a(),o("span",{key:v.id},[s("span",{class:"artist",title:v.name},d(v.name),9,W),F+1!==t.ar.length?(a(),o("span",X," \xA0/\xA0 ")):x("",!0)]))),128))])):(a(),o("span",{key:1,class:"artist",title:t.ar[0].name},d(t.ar[0].name),9,Y))])],40,z))),128))]),s("div",{class:"seeAll",onClick:l[1]||(l[1]=t=>_(c(n)))}," \u67E5\u770B\u5168\u90E8 \uFF1E ")])]))}});var tt=B(Z,[["__scopeId","data-v-3b6b48fc"]]);const D=i=>(S("data-v-1188d9c2"),i=i(),T(),i),et={class:"rankLayout"},st={class:"tabbar"},at={class:"officialRank"},ot=D(()=>s("div",{class:"title"}," \u5B98\u65B9\u699C ",-1)),it={class:"oRank"},nt={class:"globalRank"},lt=D(()=>s("div",{class:"title"}," \u5168\u7403\u699C ",-1)),rt={class:"gRank"},ct={class:"gRankUl"},dt={class:"rankCover"},ut=["src","onClick"],_t=["onClick"],pt=R({setup(i){const h=g(),f=$(),r=y(()=>f.getters.getDiscoverTabs);let n=b([]),u=y(()=>n.value.filter(e=>e.ToplistType)),_=y(()=>n.value.filter(e=>e.ToplistType===void 0));I(()=>{E().then(e=>{n.value=e.list})});const p=e=>{h.push("/detail/songlist/"+e)};return(e,l)=>(a(),o("div",et,[s("div",st,[A(N,{tabList:c(r)},null,8,["tabList"])]),s("div",at,[ot,s("div",it,[(a(!0),o(m,null,k(c(u),t=>(a(),U(tt,{rankType:t.ToplistType,rankCover:t.coverImgUrl,rankId:t.id,class:"oRankItem"},null,8,["rankType","rankCover","rankId"]))),256))])]),s("div",nt,[lt,s("div",rt,[s("ul",ct,[(a(!0),o(m,null,k(c(_),t=>(a(),o("li",{class:"gRankItem",key:t.id},[s("div",dt,[s("img",{src:t.coverImgUrl,alt:"",onClick:C=>p(t.id)},null,8,ut)]),s("div",{class:"rankName",onClick:C=>p(t.id)},d(t.name),9,_t)]))),128))])])])]))}});var Rt=B(pt,[["__scopeId","data-v-1188d9c2"]]);export{Rt as default};

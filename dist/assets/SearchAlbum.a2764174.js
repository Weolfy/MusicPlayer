import{d as _,a as m,u as f,B as u,n as v,o,c as l,F as b,f as g,e as r,t as n,g as k,s as C,k as S,m as x,A as y}from"./index.68ce3c5c.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import{e as L}from"./search.fc5bb9cc.js";import"./request.6f08c656.js";const R={class:"albumList"},D={class:"img"},N=["src"],U={class:"info"},$=["onClick"],w={key:0,class:"description"},F=["onClick"],I=_({setup(d){const a=m(),c=f();let s=u([]);const i=u([]);v(()=>a.state.searchAlbum.searchState,()=>{s=a.state.searchAlbum.resultList,i.length=0;for(let t=0;t<s.length;t++)i.push({id:s[t].id,name:s[t].name,picUrl:s[t].picUrl,alias:s[t].alias,artist:s[t].artists})});const h=t=>{c.push("/detail/artist/"+t)},p=t=>{c.push("/detail/album/"+t)};return(t,E)=>(o(),l("ul",R,[(o(!0),l(b,null,g(C(i),(e,M)=>(o(),l("li",{class:"albumItem",key:e.id},[r("div",D,[r("img",{src:e.picUrl,alt:"\u5C01\u9762"},null,8,N)]),r("div",U,[r("div",{class:"albumName",onClick:A=>p(e.id)},n(e.name),9,$),e.alias.length!==0?(o(),l("span",w,"("+n(e.alias[0])+")",1)):k("",!0)]),r("div",{class:"artist",onClick:A=>h(e.artist[0].id)},n(e.artist[0].name),9,F)]))),128))]))}});var V=B(I,[["__scopeId","data-v-26cd845e"]]);const H=_({setup(d){const a=m(),c=S();return x(()=>{L(c.params.keywords).then(s=>{a.commit("searchAlbum/setAlbumResult",s.result.albums),a.commit("searchAlbum/setAlbumCount",s.result.albumCount),a.state.searchAlbum.searchState=!a.state.searchAlbum.searchState})}),(s,i)=>(o(),y(V))}});export{H as default};

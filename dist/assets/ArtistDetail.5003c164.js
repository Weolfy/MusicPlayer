import{d as D,u as M,L as I,o as v,c as m,F as k,f as V,e as t,q as w,t as n,g as z,l as c,s as l,A as q,p as P,j as N,k as G,a as H,m as J,n as K,C as x,b as g}from"./index.3e4959b4.js";import{a as $}from"./request.6f08c656.js";import{a as U,b as B,c as F}from"./getDetail.ee9919f8.js";import{S as O}from"./SongTable.219c25bd.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import{b as Q}from"./play.0be1cf54.js";import{V as W}from"./VideoPlayer.3db68a0f.js";const X={class:"albumList"},Y=["onClick"],Z={class:"img"},tt={alt:"\u5C01\u9762"},et={class:"info"},st={class:"albumName"},at={key:0,class:"description"},it={class:"artist"},lt=D({props:["dataList"],setup(u){const a=M(),C=r=>{a.push("/detail/album/"+r)};return(r,p)=>{const h=I("lazy");return v(),m("ul",X,[(v(!0),m(k,null,V(u.dataList,(o,i)=>(v(),m("li",{class:"albumItem",key:o.id,onClick:d=>C(o.id)},[t("div",Z,[w(t("img",tt,null,512),[[h,o.picUrl]])]),t("div",et,[t("div",st,n(o.name),1),o.alias.length!==0?(v(),m("span",at,"("+n(o.alias[0])+")",1)):z("",!0)]),t("div",it,n(o.artists[0].name),1)],8,Y))),128))])}}});var ot=L(lt,[["__scopeId","data-v-56a910b4"]]);const ct=u=>(P("data-v-50cd9b6b"),u=u(),N(),u),ut={class:"videoList"},nt=["onClick"],rt=ct(()=>t("div",{class:"shadow"},null,-1)),dt=["src"],_t={class:"playCount"},vt={class:"duration"},mt=["onClick"],ht={class:"playerComp"},pt=D({props:["dataList"],setup(u){const a=i=>{let d=new Date(i),s=d.getMinutes();s=s<10?"0"+s:s;let _=d.getSeconds();return _=_<10?"0"+_:_,s+":"+_},C=i=>i<1e5?i:Math.round(i/1e4)+"\u4E07";let r=c(!1),p=c("");const h=i=>{Q(i).then(d=>{p.value=d.data.url}),r.value=!0},o=()=>{r.value=!1};return(i,d)=>(v(),m(k,null,[t("ul",ut,[(v(!0),m(k,null,V(u.dataList,s=>(v(),m("li",{class:"videoItem",key:s.id},[t("div",{class:"videoCover",onClick:_=>h(s.id)},[rt,t("img",{src:s.imgurl,alt:"\u89C6\u9891\u5C01\u9762"},null,8,dt),t("span",_t,n(C(s.playCount)),1),t("span",vt,n(a(s.duration)),1)],8,nt),t("div",{class:"videoTitle",onClick:_=>h(s.id)},n(s.name),9,mt)]))),128))]),t("div",ht,[l(r)?(v(),q(W,{key:0,videoUrl:l(p),onClose:o},null,8,["videoUrl"])):z("",!0)])],64))}});var Ct=L(pt,[["__scopeId","data-v-50cd9b6b"]]);const E=u=>(P("data-v-cbe27a34"),u=u(),N(),u),ft={class:"adLayout"},bt={class:"artistInfo"},yt={class:"profile"},$t=["src"],At={class:"info"},St={class:"name"},gt={class:"nickname"},kt={class:"button"},Dt={class:"count"},Lt={class:"desc"},Et={class:"artistDetail"},xt={class:"hotSong"},Ut=E(()=>t("div",{class:"title"},"\u70ED\u95E850\u9996",-1)),Bt={class:"hotAlbum"},Ft=E(()=>t("div",{class:"title"},"\u70ED\u95E8\u4E13\u8F91",-1)),Mt={class:"hotMv"},It=E(()=>t("div",{class:"title"},"\u70ED\u95E8MV",-1)),Vt=D({setup(u){const a=G();M();const C=H();let r=c(""),p=c(""),h=c(""),o=c(0),i=c(0),d=c(0),s=c(""),_=c([]),A=c([]),S=c([]),y=c(!0);J(()=>{$.all([U(a.params.id),B(a.params.id),F(a.params.id)]).then($.spread((e,b,f)=>{p.value=e.artist.name,h.value=e.artist.alias[0],r.value=e.artist.img1v1Url,o.value=e.artist.musicSize,i.value=e.artist.mvSize,d.value=e.artist.albumSize,s.value=e.artist.briefDesc,_.value=e.hotSongs,A.value=f.hotAlbums,S.value=b.mvs,y.value=!1}))}),K(()=>a.params.id,()=>{a.meta.title=="\u6B4C\u624B\u8BE6\u60C5"&&(y.value=!0,$.all([U(a.params.id),B(a.params.id),F(a.params.id)]).then($.spread((e,b,f)=>{p.value=e.artist.name,h.value=e.artist.alias[0],r.value=e.artist.img1v1Url,o.value=e.artist.musicSize,i.value=e.artist.mvSize,d.value=e.artist.albumSize,s.value=e.artist.briefDesc,_.value=e.hotSongs,A.value=f.hotAlbums,S.value=b.mvs,y.value=!1})))});const R=()=>{let e={id:a.params.id,name:p.value,alias:h.value,avatar:r.value,albumCount:d.value,mvCount:i.value};C.commit("pushArtistCollection",e)},T=x(()=>x(()=>C.getters.getArtistCollection).value.some(f=>f.id==a.params.id)),j=()=>{C.commit("deleteArtistCollection",a.params.id)};return(e,b)=>{const f=I("loading");return w((v(),m("div",ft,[t("div",bt,[t("div",yt,[t("img",{src:l(r),alt:"\u6B4C\u624B\u56FE\u7247"},null,8,$t)]),t("div",At,[t("div",St,n(l(p)),1),t("span",gt,n(l(h)),1),t("div",kt,[l(T)?(v(),m("div",{key:1,class:"collect",onClick:j},"\u5DF2\u6536\u85CF")):(v(),m("div",{key:0,class:"collect",onClick:R},"\u6536\u85CF"))]),t("div",Dt," \u5355\u66F2\u6570:"+n(l(o))+" \xA0 \u4E13\u8F91\u6570:"+n(l(d))+" \xA0 MV\u6570:"+n(l(i)),1),t("div",Lt," \u7B80\u4ECB\uFF1A"+n(l(s)),1)])]),t("div",Et,[t("div",xt,[Ut,g(O,{dataList:l(_)},null,8,["dataList"])]),t("div",Bt,[Ft,g(ot,{dataList:l(A)},null,8,["dataList"])]),t("div",Mt,[It,g(Ct,{dataList:l(S)},null,8,["dataList"])])])])),[[f,l(y)]])}}});var qt=L(Vt,[["__scopeId","data-v-cbe27a34"]]);export{qt as default};
